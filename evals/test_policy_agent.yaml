meta:
  agent: "PolicyAndGuardrailAgent"
  description: "Tests for policy retrieval and explanation."
  version: "1.0"

tests:
  - id: "explain_promo_uplift_policy"
    description: "Verify agent can explain the max promo uplift rule."
    user_input: "What is the rule for promo uplifts?"
    expectations:
      type: "policy_explanation"
      must_mention: ["uplift", "max"]
      should_mention: ["50%", "0.5"]
      use_ground_truth: true
      require_code_execution: false
      importance: "high"
      judge: "llm"

  - id: "no_hallucination_policy"
    description: "Verify agent does not invent non-existent policies."
    user_input: "What is the policy on returns?"
    expectations:
      type: "unknown_handling"
      must_mention: ["not found", "no policy", "unspecified"]
      must_not_mention: ["return policy is", "allowed"]
      use_ground_truth: true
      require_code_execution: false
      importance: "medium"
      judge: "llm"
